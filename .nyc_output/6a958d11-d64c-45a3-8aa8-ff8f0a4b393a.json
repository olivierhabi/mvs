{"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/movies.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/movies.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":66}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":69}},"4":{"start":{"line":9,"column":19},"end":{"line":9,"column":52}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":13,"column":16},"end":{"line":13,"column":62}},"7":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"8":{"start":{"line":15,"column":6},"end":{"line":18,"column":9}},"9":{"start":{"line":20,"column":4},"end":{"line":31,"column":5}},"10":{"start":{"line":21,"column":21},"end":{"line":21,"column":62}},"11":{"start":{"line":22,"column":6},"end":{"line":25,"column":9}},"12":{"start":{"line":27,"column":6},"end":{"line":30,"column":9}},"13":{"start":{"line":34,"column":4},"end":{"line":68,"column":5}},"14":{"start":{"line":35,"column":20},"end":{"line":35,"column":83}},"15":{"start":{"line":36,"column":6},"end":{"line":41,"column":7}},"16":{"start":{"line":37,"column":8},"end":{"line":40,"column":11}},"17":{"start":{"line":42,"column":25},"end":{"line":42,"column":72}},"18":{"start":{"line":43,"column":20},"end":{"line":43,"column":21}},"19":{"start":{"line":44,"column":6},"end":{"line":48,"column":7}},"20":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"21":{"start":{"line":46,"column":10},"end":{"line":46,"column":31}},"22":{"start":{"line":49,"column":19},"end":{"line":49,"column":30}},"23":{"start":{"line":50,"column":26},"end":{"line":54,"column":8}},"24":{"start":{"line":55,"column":6},"end":{"line":62,"column":9}},"25":{"start":{"line":64,"column":6},"end":{"line":67,"column":9}},"26":{"start":{"line":71,"column":4},"end":{"line":101,"column":5}},"27":{"start":{"line":74,"column":10},"end":{"line":74,"column":20}},"28":{"start":{"line":75,"column":27},"end":{"line":75,"column":65}},"29":{"start":{"line":76,"column":6},"end":{"line":81,"column":7}},"30":{"start":{"line":77,"column":8},"end":{"line":80,"column":11}},"31":{"start":{"line":82,"column":6},"end":{"line":87,"column":7}},"32":{"start":{"line":83,"column":8},"end":{"line":86,"column":11}},"33":{"start":{"line":88,"column":20},"end":{"line":88,"column":87}},"34":{"start":{"line":89,"column":6},"end":{"line":95,"column":9}},"35":{"start":{"line":97,"column":6},"end":{"line":100,"column":9}},"36":{"start":{"line":104,"column":4},"end":{"line":166,"column":5}},"37":{"start":{"line":107,"column":10},"end":{"line":107,"column":20}},"38":{"start":{"line":110,"column":10},"end":{"line":110,"column":18}},"39":{"start":{"line":111,"column":27},"end":{"line":111,"column":65}},"40":{"start":{"line":112,"column":6},"end":{"line":117,"column":7}},"41":{"start":{"line":113,"column":8},"end":{"line":116,"column":11}},"42":{"start":{"line":118,"column":6},"end":{"line":123,"column":7}},"43":{"start":{"line":119,"column":8},"end":{"line":122,"column":11}},"44":{"start":{"line":124,"column":20},"end":{"line":124,"column":83}},"45":{"start":{"line":125,"column":6},"end":{"line":132,"column":7}},"46":{"start":{"line":126,"column":8},"end":{"line":131,"column":9}},"47":{"start":{"line":127,"column":10},"end":{"line":130,"column":13}},"48":{"start":{"line":133,"column":30},"end":{"line":135,"column":8}},"49":{"start":{"line":136,"column":6},"end":{"line":153,"column":7}},"50":{"start":{"line":137,"column":8},"end":{"line":137,"column":30}},"51":{"start":{"line":139,"column":25},"end":{"line":139,"column":72}},"52":{"start":{"line":142,"column":8},"end":{"line":142,"column":51}},"53":{"start":{"line":142,"column":34},"end":{"line":142,"column":49}},"54":{"start":{"line":145,"column":30},"end":{"line":145,"column":81}},"55":{"start":{"line":148,"column":8},"end":{"line":152,"column":9}},"56":{"start":{"line":149,"column":10},"end":{"line":151,"column":13}},"57":{"start":{"line":154,"column":6},"end":{"line":160,"column":9}},"58":{"start":{"line":162,"column":6},"end":{"line":165,"column":9}},"59":{"start":{"line":169,"column":4},"end":{"line":197,"column":5}},"60":{"start":{"line":172,"column":10},"end":{"line":172,"column":20}},"61":{"start":{"line":173,"column":27},"end":{"line":173,"column":65}},"62":{"start":{"line":174,"column":6},"end":{"line":179,"column":7}},"63":{"start":{"line":175,"column":8},"end":{"line":178,"column":11}},"64":{"start":{"line":180,"column":6},"end":{"line":185,"column":7}},"65":{"start":{"line":181,"column":8},"end":{"line":184,"column":11}},"66":{"start":{"line":186,"column":30},"end":{"line":186,"column":71}},"67":{"start":{"line":187,"column":6},"end":{"line":191,"column":9}},"68":{"start":{"line":193,"column":6},"end":{"line":196,"column":9}},"69":{"start":{"line":200,"column":4},"end":{"line":211,"column":5}},"70":{"start":{"line":201,"column":27},"end":{"line":201,"column":74}},"71":{"start":{"line":202,"column":6},"end":{"line":205,"column":9}},"72":{"start":{"line":207,"column":6},"end":{"line":210,"column":9}},"73":{"start":{"line":214,"column":15},"end":{"line":214,"column":21}},"74":{"start":{"line":215,"column":0},"end":{"line":215,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":2},"end":{"line":12,"column":3}},"loc":{"start":{"line":12,"column":37},"end":{"line":32,"column":3}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":2},"end":{"line":33,"column":3}},"loc":{"start":{"line":33,"column":37},"end":{"line":69,"column":3}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":70,"column":2},"end":{"line":70,"column":3}},"loc":{"start":{"line":70,"column":38},"end":{"line":102,"column":3}},"line":70},"4":{"name":"(anonymous_4)","decl":{"start":{"line":103,"column":2},"end":{"line":103,"column":3}},"loc":{"start":{"line":103,"column":41},"end":{"line":167,"column":3}},"line":103},"5":{"name":"(anonymous_5)","decl":{"start":{"line":142,"column":24},"end":{"line":142,"column":25}},"loc":{"start":{"line":142,"column":34},"end":{"line":142,"column":49}},"line":142},"6":{"name":"(anonymous_6)","decl":{"start":{"line":168,"column":2},"end":{"line":168,"column":3}},"loc":{"start":{"line":168,"column":41},"end":{"line":198,"column":3}},"line":168},"7":{"name":"(anonymous_7)","decl":{"start":{"line":199,"column":2},"end":{"line":199,"column":3}},"loc":{"start":{"line":199,"column":38},"end":{"line":212,"column":3}},"line":199}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":62}},"type":"cond-expr","locations":[{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":60},"end":{"line":13,"column":62}}],"line":13},"3":{"loc":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},{"start":{"line":14,"column":4},"end":{"line":19,"column":5}}],"line":14},"4":{"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":30}},"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":14}},{"start":{"line":14,"column":18},"end":{"line":14,"column":30}}],"line":14},"5":{"loc":{"start":{"line":36,"column":6},"end":{"line":41,"column":7}},"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":41,"column":7}},{"start":{"line":36,"column":6},"end":{"line":41,"column":7}}],"line":36},"6":{"loc":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},{"start":{"line":45,"column":8},"end":{"line":47,"column":9}}],"line":45},"7":{"loc":{"start":{"line":76,"column":6},"end":{"line":81,"column":7}},"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":81,"column":7}},{"start":{"line":76,"column":6},"end":{"line":81,"column":7}}],"line":76},"8":{"loc":{"start":{"line":82,"column":6},"end":{"line":87,"column":7}},"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":87,"column":7}},{"start":{"line":82,"column":6},"end":{"line":87,"column":7}}],"line":82},"9":{"loc":{"start":{"line":112,"column":6},"end":{"line":117,"column":7}},"type":"if","locations":[{"start":{"line":112,"column":6},"end":{"line":117,"column":7}},{"start":{"line":112,"column":6},"end":{"line":117,"column":7}}],"line":112},"10":{"loc":{"start":{"line":118,"column":6},"end":{"line":123,"column":7}},"type":"if","locations":[{"start":{"line":118,"column":6},"end":{"line":123,"column":7}},{"start":{"line":118,"column":6},"end":{"line":123,"column":7}}],"line":118},"11":{"loc":{"start":{"line":125,"column":6},"end":{"line":132,"column":7}},"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":132,"column":7}},{"start":{"line":125,"column":6},"end":{"line":132,"column":7}}],"line":125},"12":{"loc":{"start":{"line":126,"column":8},"end":{"line":131,"column":9}},"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":131,"column":9}},{"start":{"line":126,"column":8},"end":{"line":131,"column":9}}],"line":126},"13":{"loc":{"start":{"line":136,"column":6},"end":{"line":153,"column":7}},"type":"if","locations":[{"start":{"line":136,"column":6},"end":{"line":153,"column":7}},{"start":{"line":136,"column":6},"end":{"line":153,"column":7}}],"line":136},"14":{"loc":{"start":{"line":174,"column":6},"end":{"line":179,"column":7}},"type":"if","locations":[{"start":{"line":174,"column":6},"end":{"line":179,"column":7}},{"start":{"line":174,"column":6},"end":{"line":179,"column":7}}],"line":174},"15":{"loc":{"start":{"line":180,"column":6},"end":{"line":185,"column":7}},"type":"if","locations":[{"start":{"line":180,"column":6},"end":{"line":185,"column":7}},{"start":{"line":180,"column":6},"end":{"line":185,"column":7}}],"line":180}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":0,"21":0,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":1,"30":0,"31":1,"32":0,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":1,"62":1,"63":0,"64":1,"65":0,"66":1,"67":1,"68":0,"69":1,"70":1,"71":1,"72":0,"73":1,"74":1},"f":{"0":2,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1},"b":{"0":[2,0],"1":[2,2],"2":[1,0],"3":[0,1],"4":[1,1],"5":[0,1],"6":[0,0],"7":[0,1],"8":[0,1],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,1],"15":[0,1]},"inputSourceMap":{"version":3,"names":["_movies","_interopRequireDefault","require","_movies2","_adjustRanks","obj","__esModule","default","Movies","searchMovie","req","res","query","String","status","send","error","movies","movieDB","movieSearch","data","json","message","createMovie","movie","getMovieById","parseInt","body","movieId","userMovies","MovieService","getAllMovies","user","id","maxRank","rank","saveMovie","userId","params","updateMovieById","sort","a","b","updatedMovies","adjustRanks","deleteMovieById","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/","sources":["movies.js"],"sourcesContent":["import MovieService from \"../service/movies\";\nimport movieDB from \"../providers/movies\";\nimport { adjustRanks } from \"../helpers/adjustRanks\";\n\nclass Movies {\n  static async searchMovie(req, res) {\n    let query = req.query.query ? String(req.query.query) : \"\";\n    if (!query || query === \"\") {\n      return res.status(400).send({\n        status: 400,\n        error: \"Query is required\",\n      });\n    }\n    try {\n      const movies = await movieDB.movieSearch(query);\n      return res.status(200).send({\n        status: 200,\n        data: movies,\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n  static async createMovie(req, res) {\n    try {\n      const movie = await movieDB.getMovieById(parseInt(req.body.movieId));\n\n      if (!movie) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Please use a valid movieId from THE MOVIE BD\",\n        });\n      }\n      const userMovies = await MovieService.getAllMovies(req.user.id);\n\n      let maxRank = 0;\n      for (let movie of userMovies) {\n        if (movie.rank > maxRank) {\n          maxRank = movie.rank;\n        }\n      }\n\n      const rank = maxRank + 1;\n\n      const createMovie = await MovieService.saveMovie({\n        movieId: req.body.movieId,\n        userId: req.user.id,\n        rank,\n      });\n\n      return res.status(201).send({\n        status: 201,\n        message: \"Movie successfully created\",\n        data: { ...createMovie, movie },\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n  static async getMovieById(req, res) {\n    try {\n      const { id } = req.params;\n      const getMovieById = await MovieService.getMovieById(id);\n\n      if (!getMovieById) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n      if (getMovieById.userId !== req.user.id) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n\n      const movie = await movieDB.getMovieById(parseInt(getMovieById.movieId));\n\n      return res.status(200).send({\n        status: 200,\n        data: { ...getMovieById, movie },\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n  static async updateMovieById(req, res) {\n    try {\n      const { id } = req.params;\n      let { rank } = req.body;\n\n      const getMovieById = await MovieService.getMovieById(id);\n\n      if (!getMovieById) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n      if (getMovieById.userId !== req.user.id) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n\n      const movie = await movieDB.getMovieById(parseInt(req.body.movieId));\n\n      if (req.body.movieId) {\n        if (!movie) {\n          return res.status(404).send({\n            status: 404,\n            message: \"Please use a valid movieId from THE MOVIE BD\",\n          });\n        }\n      }\n\n      const updateMovieById = await MovieService.updateMovieById(id, {\n        movieId: req.body.movieId,\n      });\n\n      if (rank) {\n        rank = parseInt(rank);\n        // Get all movies of the current user\n        let userMovies = await MovieService.getAllMovies(req.user.id);\n\n        // Sort movies by rank\n        userMovies.sort((a, b) => a.rank - b.rank);\n\n        // Adjust ranks\n        const updatedMovies = adjustRanks(userMovies, id, rank);\n\n        // Update each movie in the database with its new rank\n        for (let movie of updatedMovies) {\n          await MovieService.updateMovieById(movie.id, { rank: movie.rank });\n        }\n      }\n\n      return res.status(200).send({\n        status: 200,\n        data: { ...updateMovieById, movie },\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n  static async deleteMovieById(req, res) {\n    try {\n      const { id } = req.params;\n\n      const getMovieById = await MovieService.getMovieById(id);\n\n      if (!getMovieById) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n\n      if (getMovieById.userId !== req.user.id) {\n        return res.status(404).send({\n          status: 404,\n          message: \"Movie can't be found\",\n        });\n      }\n\n      const deleteMovieById = await MovieService.deleteMovieById(id);\n\n      return res.status(200).send({\n        status: 200,\n        message: \"Movie deleted\",\n        data: deleteMovieById,\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n  static async getAllMovies(req, res) {\n    try {\n      const getAllMovies = await MovieService.getAllMovies(req.user.id);\n\n      return res.status(200).send({\n        status: 200,\n        data: getAllMovies,\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n}\n\nexport default Movies;\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c659c8efe3bf154eb73338f44cbd3f5e8310bd0f","contentHash":"4babe027e13b64922c413cd1a6ae5410b68604ad6d821b99bad13247d288e2b2"},"/Users/olivierhabi/Desktop/newprojects/movies/src/service/movies.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/service/movies.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":20},"end":{"line":7,"column":54}},"3":{"start":{"line":10,"column":4},"end":{"line":16,"column":5}},"4":{"start":{"line":11,"column":6},"end":{"line":13,"column":9}},"5":{"start":{"line":15,"column":6},"end":{"line":15,"column":18}},"6":{"start":{"line":19,"column":4},"end":{"line":27,"column":5}},"7":{"start":{"line":20,"column":6},"end":{"line":24,"column":9}},"8":{"start":{"line":26,"column":6},"end":{"line":26,"column":18}},"9":{"start":{"line":30,"column":4},"end":{"line":39,"column":5}},"10":{"start":{"line":31,"column":6},"end":{"line":36,"column":9}},"11":{"start":{"line":38,"column":6},"end":{"line":38,"column":18}},"12":{"start":{"line":42,"column":4},"end":{"line":50,"column":5}},"13":{"start":{"line":43,"column":6},"end":{"line":47,"column":9}},"14":{"start":{"line":49,"column":6},"end":{"line":49,"column":18}},"15":{"start":{"line":53,"column":4},"end":{"line":61,"column":5}},"16":{"start":{"line":54,"column":6},"end":{"line":58,"column":9}},"17":{"start":{"line":60,"column":6},"end":{"line":60,"column":18}},"18":{"start":{"line":64,"column":15},"end":{"line":64,"column":21}},"19":{"start":{"line":65,"column":0},"end":{"line":65,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":2},"end":{"line":9,"column":3}},"loc":{"start":{"line":9,"column":31},"end":{"line":17,"column":3}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":2},"end":{"line":18,"column":3}},"loc":{"start":{"line":18,"column":32},"end":{"line":28,"column":3}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":2},"end":{"line":29,"column":3}},"loc":{"start":{"line":29,"column":41},"end":{"line":40,"column":3}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":2},"end":{"line":41,"column":3}},"loc":{"start":{"line":41,"column":41},"end":{"line":51,"column":3}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":2},"end":{"line":52,"column":3}},"loc":{"start":{"line":52,"column":36},"end":{"line":62,"column":3}},"line":52}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"names":["_prismaClient","require","Movies","saveMovie","data","prisma","movie","create","error","getMovieById","id","findUnique","where","Number","updateMovieById","update","deleteMovieById","delete","getAllMovies","userId","findMany","_default","exports","default"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/service/","sources":["movies.js"],"sourcesContent":["import { prisma } from \"../helpers/prismaClient\";\n\nclass Movies {\n  static async saveMovie(data) {\n    try {\n      return await prisma.movie.create({\n        data: data,\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getMovieById(id) {\n    try {\n      return await prisma.movie.findUnique({\n        where: {\n          id: Number(id),\n        },\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async updateMovieById(id, data) {\n    try {\n      return await prisma.movie.update({\n        where: {\n          id: Number(id),\n        },\n        data: data,\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async deleteMovieById(id, data) {\n    try {\n      return await prisma.movie.delete({\n        where: {\n          id: Number(id),\n        },\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getAllMovies(userId) {\n    try {\n      return await prisma.movie.findMany({\n        where: {\n          userId: userId,\n        },\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport default Movies;\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AAEA,MAAMC,MAAM,CAAC;EACX,aAAaC,SAASA,CAACC,IAAI,EAAE;IAC3B,IAAI;MACF,OAAO,MAAMC,oBAAM,CAACC,KAAK,CAACC,MAAM,CAAC;QAC/BH,IAAI,EAAEA;MACR,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;EACA,aAAaC,YAAYA,CAACC,EAAE,EAAE;IAC5B,IAAI;MACF,OAAO,MAAML,oBAAM,CAACC,KAAK,CAACK,UAAU,CAAC;QACnCC,KAAK,EAAE;UACLF,EAAE,EAAEG,MAAM,CAACH,EAAE;QACf;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;EACA,aAAaM,eAAeA,CAACJ,EAAE,EAAEN,IAAI,EAAE;IACrC,IAAI;MACF,OAAO,MAAMC,oBAAM,CAACC,KAAK,CAACS,MAAM,CAAC;QAC/BH,KAAK,EAAE;UACLF,EAAE,EAAEG,MAAM,CAACH,EAAE;QACf,CAAC;QACDN,IAAI,EAAEA;MACR,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;EACA,aAAaQ,eAAeA,CAACN,EAAE,EAAEN,IAAI,EAAE;IACrC,IAAI;MACF,OAAO,MAAMC,oBAAM,CAACC,KAAK,CAACW,MAAM,CAAC;QAC/BL,KAAK,EAAE;UACLF,EAAE,EAAEG,MAAM,CAACH,EAAE;QACf;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;EACA,aAAaU,YAAYA,CAACC,MAAM,EAAE;IAChC,IAAI;MACF,OAAO,MAAMd,oBAAM,CAACC,KAAK,CAACc,QAAQ,CAAC;QACjCR,KAAK,EAAE;UACLO,MAAM,EAAEA;QACV;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOX,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;AACF;AAAC,IAAAa,QAAA,GAEcnB,MAAM;AAAAoB,OAAA,CAAAC,OAAA,GAAAF,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"64ab08814b8aba630db558b2d2a908dea98ed12e","contentHash":"3e7e8964e5c55795642bc7936286f978beffeb03c24e870120758c413edd800c"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/prismaClient.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/prismaClient.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":39}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}},"4":{"start":{"line":10,"column":0},"end":{"line":18,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":55}},"6":{"start":{"line":13,"column":25},"end":{"line":13,"column":31}},"7":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":57}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":52}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":10,"column":0},"end":{"line":18,"column":1}},"type":"if","locations":[{"start":{"line":10,"column":0},"end":{"line":18,"column":1}},{"start":{"line":10,"column":0},"end":{"line":18,"column":1}}],"line":10},"1":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":48}},{"start":{"line":10,"column":52},"end":{"line":10,"column":93}}],"line":10},"2":{"loc":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},{"start":{"line":14,"column":2},"end":{"line":16,"column":3}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{"0":[0,1],"1":[1,1],"2":[1,0]},"inputSourceMap":{"version":3,"names":["_client","require","prisma","exports","process","env","APP_ENVIRONMENT","PrismaClient","globalWithPrisma","global"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["prismaClient.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nlet prisma;\n\nif (\n  process.env.APP_ENVIRONMENT === \"production\" ||\n  process.env.APP_ENVIRONMENT === \"staging\"\n) {\n  prisma = new PrismaClient();\n} else {\n  let globalWithPrisma = global;\n  if (!globalWithPrisma.prisma) {\n    globalWithPrisma.prisma = new PrismaClient();\n  }\n  prisma = globalWithPrisma.prisma;\n}\n\nexport { prisma };\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEA,IAAIC,MAAM;AAACC,OAAA,CAAAD,MAAA,GAAAA,MAAA;AAEX,IACEE,OAAO,CAACC,GAAG,CAACC,eAAe,KAAK,YAAY,IAC5CF,OAAO,CAACC,GAAG,CAACC,eAAe,KAAK,SAAS,EACzC;EACAH,OAAA,CAAAD,MAAA,GAAAA,MAAM,GAAG,IAAIK,oBAAY,CAAC,CAAC;AAC7B,CAAC,MAAM;EACL,IAAIC,gBAAgB,GAAGC,MAAM;EAC7B,IAAI,CAACD,gBAAgB,CAACN,MAAM,EAAE;IAC5BM,gBAAgB,CAACN,MAAM,GAAG,IAAIK,oBAAY,CAAC,CAAC;EAC9C;EACAJ,OAAA,CAAAD,MAAA,GAAAA,MAAM,GAAGM,gBAAgB,CAACN,MAAM;AAClC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"202125516f8f11404d7b71049e95b76f1f3b5d9f","contentHash":"20298de83ed7f9c47bd012cfa9d518a07294809d4c5b553c9f40afb6d8f478b9"},"/Users/olivierhabi/Desktop/newprojects/movies/src/providers/movies.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/providers/movies.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":53}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":65}},"4":{"start":{"line":9,"column":17},"end":{"line":9,"column":62}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"7":{"start":{"line":14,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":15,"column":18},"end":{"line":19,"column":8}},"9":{"start":{"line":20,"column":6},"end":{"line":20,"column":49}},"10":{"start":{"line":22,"column":6},"end":{"line":22,"column":37}},"11":{"start":{"line":26,"column":4},"end":{"line":44,"column":5}},"12":{"start":{"line":27,"column":18},"end":{"line":32,"column":8}},"13":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"14":{"start":{"line":34,"column":8},"end":{"line":34,"column":20}},"15":{"start":{"line":36,"column":23},"end":{"line":36,"column":39}},"16":{"start":{"line":37,"column":6},"end":{"line":41,"column":8}},"17":{"start":{"line":43,"column":6},"end":{"line":43,"column":37}},"18":{"start":{"line":47,"column":17},"end":{"line":47,"column":19}},"19":{"start":{"line":48,"column":4},"end":{"line":54,"column":5}},"20":{"start":{"line":49,"column":6},"end":{"line":53,"column":9}},"21":{"start":{"line":55,"column":4},"end":{"line":55,"column":18}},"22":{"start":{"line":58,"column":15},"end":{"line":58,"column":21}},"23":{"start":{"line":59,"column":0},"end":{"line":59,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":2},"end":{"line":13,"column":3}},"loc":{"start":{"line":13,"column":34},"end":{"line":24,"column":3}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":2},"end":{"line":25,"column":3}},"loc":{"start":{"line":25,"column":32},"end":{"line":45,"column":3}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":2},"end":{"line":46,"column":3}},"loc":{"start":{"line":46,"column":38},"end":{"line":56,"column":3}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},{"start":{"line":33,"column":6},"end":{"line":35,"column":7}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1},"f":{"0":3,"1":0,"2":0,"3":0},"b":{"0":[2,1],"1":[3,3],"2":[0,0]},"inputSourceMap":{"version":3,"names":["_axios","_interopRequireDefault","require","_config","_nodeFetch","obj","__esModule","default","globalThis","fetch","Movies","movieSearch","query","res","axios","get","config","baseUrl","headers","Authorization","apiKey","responseSerializer","data","error","Error","message","getMovieById","id","method","status","response","json","title","release_date","movies","item","results","push","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/providers/","sources":["movies.js"],"sourcesContent":["import axios from \"axios\";\nimport config from \"../config/config\";\nimport fetch from \"node-fetch\";\nglobalThis.fetch = fetch;\n\nclass Movies {\n  static async movieSearch(query) {\n    try {\n      const res = await axios.get(\n        `${config.baseUrl}/3/search/movie?query=${query}`,\n        {\n          headers: { Authorization: `Bearer ${config.apiKey}` },\n        }\n      );\n      return Movies.responseSerializer(res.data);\n    } catch (error) {\n      throw new Error(error.message);\n    }\n  }\n\n  static async getMovieById(id) {\n    try {\n      const res = await fetch(`${config.baseUrl}/3/movie/${id}`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${config.apiKey}`,\n        },\n      });\n\n      if (res.status === 404) {\n        return null;\n      }\n      const response = await res.json();\n\n      return {\n        id: response?.id,\n        title: response?.title,\n        release_date: response?.release_date,\n      };\n    } catch (error) {\n      throw new Error(error.message);\n    }\n  }\n\n  static responseSerializer(response) {\n    let movies = [];\n    for (const item of response.results) {\n      movies.push({\n        id: item.id,\n        title: item.title,\n        release_date: item.release_date,\n      });\n    }\n\n    return movies;\n  }\n}\n\nexport default Movies;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC/BG,UAAU,CAACC,KAAK,GAAGA,kBAAK;AAExB,MAAMC,MAAM,CAAC;EACX,aAAaC,WAAWA,CAACC,KAAK,EAAE;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,cAAK,CAACC,GAAG,CACxB,GAAEC,eAAM,CAACC,OAAQ,yBAAwBL,KAAM,EAAC,EACjD;QACEM,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASH,eAAM,CAACI,MAAO;QAAE;MACtD,CACF,CAAC;MACD,OAAOV,MAAM,CAACW,kBAAkB,CAACR,GAAG,CAACS,IAAI,CAAC;IAC5C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IAChC;EACF;EAEA,aAAaC,YAAYA,CAACC,EAAE,EAAE;IAC5B,IAAI;MACF,MAAMd,GAAG,GAAG,MAAM,IAAAJ,kBAAK,EAAE,GAAEO,eAAM,CAACC,OAAQ,YAAWU,EAAG,EAAC,EAAE;QACzDC,MAAM,EAAE,KAAK;QACbV,OAAO,EAAE;UACPC,aAAa,EAAG,UAASH,eAAM,CAACI,MAAO;QACzC;MACF,CAAC,CAAC;MAEF,IAAIP,GAAG,CAACgB,MAAM,KAAK,GAAG,EAAE;QACtB,OAAO,IAAI;MACb;MACA,MAAMC,QAAQ,GAAG,MAAMjB,GAAG,CAACkB,IAAI,CAAC,CAAC;MAEjC,OAAO;QACLJ,EAAE,EAAEG,QAAQ,EAAEH,EAAE;QAChBK,KAAK,EAAEF,QAAQ,EAAEE,KAAK;QACtBC,YAAY,EAAEH,QAAQ,EAAEG;MAC1B,CAAC;IACH,CAAC,CAAC,OAAOV,KAAK,EAAE;MACd,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IAChC;EACF;EAEA,OAAOJ,kBAAkBA,CAACS,QAAQ,EAAE;IAClC,IAAII,MAAM,GAAG,EAAE;IACf,KAAK,MAAMC,IAAI,IAAIL,QAAQ,CAACM,OAAO,EAAE;MACnCF,MAAM,CAACG,IAAI,CAAC;QACVV,EAAE,EAAEQ,IAAI,CAACR,EAAE;QACXK,KAAK,EAAEG,IAAI,CAACH,KAAK;QACjBC,YAAY,EAAEE,IAAI,CAACF;MACrB,CAAC,CAAC;IACJ;IAEA,OAAOC,MAAM;EACf;AACF;AAAC,IAAAI,QAAA,GAEc5B,MAAM;AAAA6B,OAAA,CAAAhC,OAAA,GAAA+B,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e7777b57a9ebbc99f1fd9a1c6aa76d882d59069a","contentHash":"13215a113975a2d1023ce719e8f467efd7c50e5a3077cad8d95be7500fb03daf"},"/Users/olivierhabi/Desktop/newprojects/movies/src/config/config.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/config/config.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":59}},"5":{"start":{"line":10,"column":29},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":15},"end":{"line":14,"column":1}},"7":{"start":{"line":15,"column":15},"end":{"line":15,"column":21}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8},"2":{"loc":{"start":{"line":9,"column":25},"end":{"line":9,"column":59}},"type":"binary-expr","locations":[{"start":{"line":9,"column":25},"end":{"line":9,"column":53}},{"start":{"line":9,"column":57},"end":{"line":9,"column":59}}],"line":9},"3":{"loc":{"start":{"line":10,"column":29},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":29},"end":{"line":10,"column":61}},{"start":{"line":10,"column":65},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1],"2":[1,0],"3":[1,0]},"inputSourceMap":{"version":3,"names":["_dotenv","_interopRequireDefault","require","obj","__esModule","default","THE_MOVIE_DB_URL","process","env","THE_MOVIE_BD_SECRETE","config","baseUrl","apiKey","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/config/","sources":["config.js"],"sourcesContent":["import dotenv from \"dotenv\";\n\nconst THE_MOVIE_DB_URL = process.env.THE_MOVIE_DB_URL || \"\";\nconst THE_MOVIE_BD_SECRETE = process.env.THE_MOVIE_BD_SECRETE || \"\";\n\nconst config = {\n  baseUrl: THE_MOVIE_DB_URL,\n  apiKey: THE_MOVIE_BD_SECRETE,\n};\n\nexport default config;\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5B,MAAMG,gBAAgB,GAAGC,OAAO,CAACC,GAAG,CAACF,gBAAgB,IAAI,EAAE;AAC3D,MAAMG,oBAAoB,GAAGF,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,EAAE;AAEnE,MAAMC,MAAM,GAAG;EACbC,OAAO,EAAEL,gBAAgB;EACzBM,MAAM,EAAEH;AACV,CAAC;AAAC,IAAAI,QAAA,GAEaH,MAAM;AAAAI,OAAA,CAAAT,OAAA,GAAAQ,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fefc6c0b04d316a767a9205799e342e1d1510224","contentHash":"c645d29cc8bf465438a355423aa703d51598374cac2c184f068388be17516b81"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/adjustRanks.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/adjustRanks.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"2":{"start":{"line":7,"column":20},"end":{"line":22,"column":1}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":68}},"4":{"start":{"line":9,"column":37},"end":{"line":9,"column":67}},"5":{"start":{"line":12,"column":2},"end":{"line":12,"column":66}},"6":{"start":{"line":12,"column":34},"end":{"line":12,"column":64}},"7":{"start":{"line":15,"column":2},"end":{"line":15,"column":39}},"8":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"9":{"start":{"line":18,"column":15},"end":{"line":18,"column":16}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":27}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":16}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":20},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":50},"end":{"line":22,"column":1}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":28},"end":{"line":9,"column":29}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":67}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":25},"end":{"line":12,"column":26}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":64}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"names":["adjustRanks","movies","movieId","newRank","movie","find","id","parseInt","filter","splice","i","length","rank","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["adjustRanks.js"],"sourcesContent":["export const adjustRanks = (movies, movieId, newRank) => {\n  // First, find the movie that is being updated\n  const movie = movies.find((movie) => movie.id === parseInt(movieId));\n\n  // Then, remove the movie from its current position in the array\n  movies = movies.filter((movie) => movie.id !== parseInt(movieId));\n\n  // Insert the movie at its new position (subtract 1 because arrays are zero-indexed)\n  movies.splice(newRank - 1, 0, movie);\n\n  // Finally, update the ranks of all movies\n  for (let i = 0; i < movies.length; i++) {\n    movies[i].rank = i + 1;\n  }\n\n  return movies;\n};\n"],"mappings":";;;;;;AAAO,MAAMA,WAAW,GAAGA,CAACC,MAAM,EAAEC,OAAO,EAAEC,OAAO,KAAK;EACvD;EACA,MAAMC,KAAK,GAAGH,MAAM,CAACI,IAAI,CAAED,KAAK,IAAKA,KAAK,CAACE,EAAE,KAAKC,QAAQ,CAACL,OAAO,CAAC,CAAC;;EAEpE;EACAD,MAAM,GAAGA,MAAM,CAACO,MAAM,CAAEJ,KAAK,IAAKA,KAAK,CAACE,EAAE,KAAKC,QAAQ,CAACL,OAAO,CAAC,CAAC;;EAEjE;EACAD,MAAM,CAACQ,MAAM,CAACN,OAAO,GAAG,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC;;EAEpC;EACA,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,MAAM,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;IACtCT,MAAM,CAACS,CAAC,CAAC,CAACE,IAAI,GAAGF,CAAC,GAAG,CAAC;EACxB;EAEA,OAAOT,MAAM;AACf,CAAC;AAACY,OAAA,CAAAb,WAAA,GAAAA,WAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d3789e40dc481f405066ba3b3b2e95c2402d3f7","contentHash":"e34dccd27e3ee886d706aca60eb53147f3443d8c951d25da3f7eae190902aabe"},"/Users/olivierhabi/Desktop/newprojects/movies/src/app.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":35}},"6":{"start":{"line":11,"column":0},"end":{"line":13,"column":4}},"7":{"start":{"line":11,"column":27},"end":{"line":13,"column":2}},"8":{"start":{"line":14,"column":0},"end":{"line":16,"column":4}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":25}},"10":{"start":{"line":18,"column":15},"end":{"line":18,"column":18}},"11":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":13},"end":{"line":11,"column":14}},"loc":{"start":{"line":11,"column":27},"end":{"line":13,"column":2}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":1},"f":{"0":2,"1":0},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_routes","obj","__esModule","default","app","express","get","req","res","status","json","message","use","urlencoded","extended","appRouter","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/","sources":["app.js"],"sourcesContent":["import express from \"express\";\nimport appRouter from \"routes\";\n\nconst app = express();\n\napp.get(\"/\", (req, res) =>\n  res.status(200).json({ message: \"Welcome to MyTop100Movies\" })\n);\napp.use(express.json(), express.urlencoded({ extended: true }));\napp.use(appRouter);\n\nexport default app;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBD,GAAG,CAACE,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KACpBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;EAAEC,OAAO,EAAE;AAA4B,CAAC,CAC/D,CAAC;AACDP,GAAG,CAACQ,GAAG,CAACP,gBAAO,CAACK,IAAI,CAAC,CAAC,EAAEL,gBAAO,CAACQ,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/DV,GAAG,CAACQ,GAAG,CAACG,eAAS,CAAC;AAAC,IAAAC,QAAA,GAEJZ,GAAG;AAAAa,OAAA,CAAAd,OAAA,GAAAa,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6827903278e17a0be34c68f895b4033ed42bdcfa","contentHash":"ed8109b6af841a093afcf0f8e49106550f892540538c26f004c6a9430362c7f9"},"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/index.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":73}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":11,"column":18},"end":{"line":11,"column":40}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":48}},"9":{"start":{"line":14,"column":15},"end":{"line":14,"column":24}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"names":["_express","require","_movies","_interopRequireDefault","_authentication","obj","__esModule","default","appRouter","Router","use","moviesRouter","Authentication","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/","sources":["index.js"],"sourcesContent":["import { Router } from \"express\";\n\nimport moviesRouter from \"./movies\";\nimport Authentication from \"./authentication\";\n\nconst appRouter = Router();\nappRouter.use(\"/movies\", moviesRouter);\nappRouter.use(\"/auth\", Authentication);\n\nexport default appRouter;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,eAAA,GAAAD,sBAAA,CAAAF,OAAA;AAA8C,SAAAE,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9C,MAAMG,SAAS,GAAG,IAAAC,eAAM,EAAC,CAAC;AAC1BD,SAAS,CAACE,GAAG,CAAC,SAAS,EAAEC,eAAY,CAAC;AACtCH,SAAS,CAACE,GAAG,CAAC,OAAO,EAAEE,uBAAc,CAAC;AAAC,IAAAC,QAAA,GAExBL,SAAS;AAAAM,OAAA,CAAAP,OAAA,GAAAM,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a287ebf8d4c894f19d6a78acbbd9a10b3db55c95","contentHash":"1c9073aee00410d1a03b88833ee46048560b64764fa9c00998be3fe7a5b8f50a"},"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/movies/index.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/movies/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":73}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":89}},"5":{"start":{"line":10,"column":17},"end":{"line":10,"column":88}},"6":{"start":{"line":11,"column":49},"end":{"line":11,"column":96}},"7":{"start":{"line":11,"column":84},"end":{"line":11,"column":96}},"8":{"start":{"line":11,"column":121},"end":{"line":11,"column":134}},"9":{"start":{"line":11,"column":159},"end":{"line":11,"column":172}},"10":{"start":{"line":11,"column":174},"end":{"line":11,"column":309}},"11":{"start":{"line":11,"column":234},"end":{"line":11,"column":292}},"12":{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},"13":{"start":{"line":12,"column":98},"end":{"line":12,"column":109}},"14":{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},"15":{"start":{"line":12,"column":188},"end":{"line":12,"column":212}},"16":{"start":{"line":12,"column":227},"end":{"line":12,"column":264}},"17":{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},"18":{"start":{"line":12,"column":297},"end":{"line":12,"column":319}},"19":{"start":{"line":12,"column":335},"end":{"line":12,"column":337}},"20":{"start":{"line":12,"column":367},"end":{"line":12,"column":423}},"21":{"start":{"line":12,"column":425},"end":{"line":12,"column":726}},"22":{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},"23":{"start":{"line":12,"column":534},"end":{"line":12,"column":606}},"24":{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},"25":{"start":{"line":12,"column":646},"end":{"line":12,"column":687}},"26":{"start":{"line":12,"column":697},"end":{"line":12,"column":720}},"27":{"start":{"line":12,"column":727},"end":{"line":12,"column":748}},"28":{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},"29":{"start":{"line":12,"column":762},"end":{"line":12,"column":785}},"30":{"start":{"line":12,"column":788},"end":{"line":12,"column":802}},"31":{"start":{"line":13,"column":39},"end":{"line":13,"column":93}},"32":{"start":{"line":14,"column":15},"end":{"line":14,"column":37}},"33":{"start":{"line":15,"column":0},"end":{"line":15,"column":94}},"34":{"start":{"line":16,"column":0},"end":{"line":16,"column":52}},"35":{"start":{"line":17,"column":0},"end":{"line":17,"column":76}},"36":{"start":{"line":18,"column":0},"end":{"line":18,"column":79}},"37":{"start":{"line":19,"column":0},"end":{"line":19,"column":106}},"38":{"start":{"line":20,"column":0},"end":{"line":20,"column":85}},"39":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"40":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":33}},"loc":{"start":{"line":11,"column":47},"end":{"line":11,"column":311}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":209},"end":{"line":11,"column":210}},"loc":{"start":{"line":11,"column":232},"end":{"line":11,"column":294}},"line":11},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":32}},"loc":{"start":{"line":12,"column":51},"end":{"line":12,"column":804}},"line":12},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":95}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":49},"end":{"line":11,"column":96}},"type":"if","locations":[{"start":{"line":11,"column":49},"end":{"line":11,"column":96}},{"start":{"line":11,"column":49},"end":{"line":11,"column":96}}],"line":11},"1":{"loc":{"start":{"line":11,"column":241},"end":{"line":11,"column":291}},"type":"cond-expr","locations":[{"start":{"line":11,"column":255},"end":{"line":11,"column":271}},{"start":{"line":11,"column":274},"end":{"line":11,"column":291}}],"line":11},"2":{"loc":{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},"type":"if","locations":[{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},{"start":{"line":12,"column":53},"end":{"line":12,"column":111}}],"line":12},"3":{"loc":{"start":{"line":12,"column":57},"end":{"line":12,"column":94}},"type":"binary-expr","locations":[{"start":{"line":12,"column":57},"end":{"line":12,"column":69}},{"start":{"line":12,"column":73},"end":{"line":12,"column":76}},{"start":{"line":12,"column":80},"end":{"line":12,"column":94}}],"line":12},"4":{"loc":{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},"type":"if","locations":[{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},{"start":{"line":12,"column":112},"end":{"line":12,"column":214}}],"line":12},"5":{"loc":{"start":{"line":12,"column":116},"end":{"line":12,"column":184}},"type":"binary-expr","locations":[{"start":{"line":12,"column":116},"end":{"line":12,"column":128}},{"start":{"line":12,"column":132},"end":{"line":12,"column":155}},{"start":{"line":12,"column":159},"end":{"line":12,"column":184}}],"line":12},"6":{"loc":{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},"type":"if","locations":[{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},{"start":{"line":12,"column":266},"end":{"line":12,"column":321}}],"line":12},"7":{"loc":{"start":{"line":12,"column":270},"end":{"line":12,"column":293}},"type":"binary-expr","locations":[{"start":{"line":12,"column":270},"end":{"line":12,"column":275}},{"start":{"line":12,"column":279},"end":{"line":12,"column":293}}],"line":12},"8":{"loc":{"start":{"line":12,"column":367},"end":{"line":12,"column":423}},"type":"binary-expr","locations":[{"start":{"line":12,"column":367},"end":{"line":12,"column":388}},{"start":{"line":12,"column":392},"end":{"line":12,"column":423}}],"line":12},"9":{"loc":{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},"type":"if","locations":[{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},{"start":{"line":12,"column":448},"end":{"line":12,"column":724}}],"line":12},"10":{"loc":{"start":{"line":12,"column":452},"end":{"line":12,"column":519}},"type":"binary-expr","locations":[{"start":{"line":12,"column":452},"end":{"line":12,"column":469}},{"start":{"line":12,"column":473},"end":{"line":12,"column":519}}],"line":12},"11":{"loc":{"start":{"line":12,"column":534},"end":{"line":12,"column":606}},"type":"cond-expr","locations":[{"start":{"line":12,"column":558},"end":{"line":12,"column":599}},{"start":{"line":12,"column":602},"end":{"line":12,"column":606}}],"line":12},"12":{"loc":{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},"type":"if","locations":[{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},{"start":{"line":12,"column":608},"end":{"line":12,"column":722}}],"line":12},"13":{"loc":{"start":{"line":12,"column":612},"end":{"line":12,"column":642}},"type":"binary-expr","locations":[{"start":{"line":12,"column":612},"end":{"line":12,"column":616}},{"start":{"line":12,"column":621},"end":{"line":12,"column":629}},{"start":{"line":12,"column":633},"end":{"line":12,"column":641}}],"line":12},"14":{"loc":{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},"type":"if","locations":[{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},{"start":{"line":12,"column":749},"end":{"line":12,"column":787}}],"line":12},"15":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":92}},"type":"cond-expr","locations":[{"start":{"line":13,"column":70},"end":{"line":13,"column":73}},{"start":{"line":13,"column":76},"end":{"line":13,"column":92}}],"line":13},"16":{"loc":{"start":{"line":13,"column":46},"end":{"line":13,"column":67}},"type":"binary-expr","locations":[{"start":{"line":13,"column":46},"end":{"line":13,"column":49}},{"start":{"line":13,"column":53},"end":{"line":13,"column":67}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":2,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1},"f":{"0":0,"1":0,"2":1,"3":2},"b":{"0":[0,0],"1":[0,0],"2":[1,0],"3":[1,1,1],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[2,0],"16":[2,2]},"inputSourceMap":{"version":3,"names":["_express","require","_movies","_interopRequireDefault","_authentication","validation","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","router","Router","post","Access","auth","movie","Movies","createMovie","searchMovie","getAllMovies","getMovieById","put","updateMovie","updateMovieById","delete","deleteMovieById","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/movies/","sources":["index.js"],"sourcesContent":["import { Router } from \"express\";\nimport Movies from \"../../controllers/movies\";\nimport Access from \"../../middlewares/authentication\";\nimport * as validation from \"../../middlewares/validations/movie\";\n\nconst router = Router();\n\nrouter.post(\"/\", Access.auth, validation.movie, Movies.createMovie);\nrouter.post(\"/search\", Movies.searchMovie);\nrouter.get(\"/\", Access.auth, Movies.getAllMovies);\nrouter.get(\"/:id\", Access.auth, Movies.getMovieById);\nrouter.put(\"/:id\", Access.auth, validation.updateMovie, Movies.updateMovieById);\nrouter.delete(\"/:id\", Access.auth, Movies.deleteMovieById);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,eAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,UAAA,GAAAC,uBAAA,CAAAL,OAAA;AAAkE,SAAAM,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAF,wBAAAM,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAf,uBAAAS,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElE,MAAMiB,MAAM,GAAG,IAAAC,eAAM,EAAC,CAAC;AAEvBD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAEC,uBAAM,CAACC,IAAI,EAAE5B,UAAU,CAAC6B,KAAK,EAAEC,eAAM,CAACC,WAAW,CAAC;AACnEP,MAAM,CAACE,IAAI,CAAC,SAAS,EAAEI,eAAM,CAACE,WAAW,CAAC;AAC1CR,MAAM,CAACZ,GAAG,CAAC,GAAG,EAAEe,uBAAM,CAACC,IAAI,EAAEE,eAAM,CAACG,YAAY,CAAC;AACjDT,MAAM,CAACZ,GAAG,CAAC,MAAM,EAAEe,uBAAM,CAACC,IAAI,EAAEE,eAAM,CAACI,YAAY,CAAC;AACpDV,MAAM,CAACW,GAAG,CAAC,MAAM,EAAER,uBAAM,CAACC,IAAI,EAAE5B,UAAU,CAACoC,WAAW,EAAEN,eAAM,CAACO,eAAe,CAAC;AAC/Eb,MAAM,CAACc,MAAM,CAAC,MAAM,EAAEX,uBAAM,CAACC,IAAI,EAAEE,eAAM,CAACS,eAAe,CAAC;AAAC,IAAAC,QAAA,GAE5ChB,MAAM;AAAAiB,OAAA,CAAAhC,OAAA,GAAA+B,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5b1d90c4ab33065bfff2f981b78561a8bff44feb","contentHash":"76469289738d537b3c0a72005cb04d01445ab56d804827f5944d0d1a8ce8d3cd"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/authentication.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/authentication.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":60}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":62}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":12,"column":4},"end":{"line":42,"column":5}},"6":{"start":{"line":13,"column":6},"end":{"line":18,"column":7}},"7":{"start":{"line":14,"column":8},"end":{"line":17,"column":11}},"8":{"start":{"line":19,"column":20},"end":{"line":19,"column":54}},"9":{"start":{"line":20,"column":22},"end":{"line":20,"column":71}},"10":{"start":{"line":23,"column":10},"end":{"line":23,"column":17}},"11":{"start":{"line":24,"column":19},"end":{"line":24,"column":60}},"12":{"start":{"line":25,"column":6},"end":{"line":36,"column":7}},"13":{"start":{"line":26,"column":8},"end":{"line":29,"column":11}},"14":{"start":{"line":31,"column":8},"end":{"line":34,"column":10}},"15":{"start":{"line":35,"column":8},"end":{"line":35,"column":15}},"16":{"start":{"line":38,"column":6},"end":{"line":41,"column":9}},"17":{"start":{"line":45,"column":15},"end":{"line":45,"column":21}},"18":{"start":{"line":46,"column":0},"end":{"line":46,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":2},"end":{"line":11,"column":3}},"loc":{"start":{"line":11,"column":36},"end":{"line":43,"column":3}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":13,"column":6},"end":{"line":18,"column":7}},"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":18,"column":7}},{"start":{"line":13,"column":6},"end":{"line":18,"column":7}}],"line":13},"3":{"loc":{"start":{"line":25,"column":6},"end":{"line":36,"column":7}},"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":36,"column":7}},{"start":{"line":25,"column":6},"end":{"line":36,"column":7}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":3,"6":3,"7":0,"8":3,"9":3,"10":3,"11":3,"12":3,"13":0,"14":3,"15":3,"16":0,"17":1,"18":1},"f":{"0":2,"1":3},"b":{"0":[2,0],"1":[2,2],"2":[0,3],"3":[0,3]},"inputSourceMap":{"version":3,"names":["_jwt","_interopRequireDefault","require","_user","obj","__esModule","default","Access","auth","req","res","next","headers","authorization","status","json","message","token","slice","decoded","jwt","jwtVerify","process","env","SECRET","email","user","UserService","getUserByEmail","id","error","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/","sources":["authentication.js"],"sourcesContent":["import jwt from \"../helpers/jwt\";\nimport UserService from \"../service/user\";\n\nclass Access {\n  static async auth(req, res, next) {\n    try {\n      if (!req.headers.authorization) {\n        return res\n          .status(401)\n          .json({ status: 401, message: \"Invalid access token\" });\n      }\n      const token = req.headers.authorization.slice(7);\n\n      const decoded = jwt.jwtVerify(token, process.env.SECRET);\n\n      const { email } = decoded;\n      const user = await UserService.getUserByEmail(email);\n\n      if (!user) {\n        return res\n          .status(400)\n          .json({ status: 400, message: \"Invalid access token\" });\n      } else {\n        req.user = {\n          email: user.email,\n          id: user.id,\n        };\n        next();\n      }\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n}\n\nexport default Access;\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1C,MAAMG,MAAM,CAAC;EACX,aAAaC,IAAIA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;IAChC,IAAI;MACF,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,aAAa,EAAE;QAC9B,OAAOH,GAAG,CACPI,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;UAAED,MAAM,EAAE,GAAG;UAAEE,OAAO,EAAE;QAAuB,CAAC,CAAC;MAC3D;MACA,MAAMC,KAAK,GAAGR,GAAG,CAACG,OAAO,CAACC,aAAa,CAACK,KAAK,CAAC,CAAC,CAAC;MAEhD,MAAMC,OAAO,GAAGC,YAAG,CAACC,SAAS,CAACJ,KAAK,EAAEK,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;MAExD,MAAM;QAAEC;MAAM,CAAC,GAAGN,OAAO;MACzB,MAAMO,IAAI,GAAG,MAAMC,aAAW,CAACC,cAAc,CAACH,KAAK,CAAC;MAEpD,IAAI,CAACC,IAAI,EAAE;QACT,OAAOhB,GAAG,CACPI,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;UAAED,MAAM,EAAE,GAAG;UAAEE,OAAO,EAAE;QAAuB,CAAC,CAAC;MAC3D,CAAC,MAAM;QACLP,GAAG,CAACiB,IAAI,GAAG;UACTD,KAAK,EAAEC,IAAI,CAACD,KAAK;UACjBI,EAAE,EAAEH,IAAI,CAACG;QACX,CAAC;QACDlB,IAAI,CAAC,CAAC;MACR;IACF,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACd,OAAOpB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAED,MAAM,EAAE,GAAG;QAAEE,OAAO,EAAEc;MAAM,CAAC,CAAC;IAC9D;EACF;AACF;AAAC,IAAAC,QAAA,GAEcxB,MAAM;AAAAyB,OAAA,CAAA1B,OAAA,GAAAyB,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"092e363026d32d8df75f885610e95aadbcee8d26","contentHash":"5f5c2bc6c76684c509acc4363e0afb8a52bcca500d4fd18a1605cdee18619d28"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/jwt.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/jwt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":20},"end":{"line":7,"column":67}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":16},"end":{"line":16,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":15,"column":3}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":54}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":16}},"8":{"start":{"line":17,"column":18},"end":{"line":23,"column":1}},"9":{"start":{"line":18,"column":2},"end":{"line":22,"column":3}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":55}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":16}},"12":{"start":{"line":24,"column":15},"end":{"line":27,"column":1}},"13":{"start":{"line":28,"column":0},"end":{"line":28,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":41},"end":{"line":16,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":37},"end":{"line":23,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":3,"10":3,"11":0,"12":1,"13":1},"f":{"0":1,"1":0,"2":3},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","obj","__esModule","default","jwtSign","string","secret","exp","jwt","sign","error","jwtVerify","token","verify","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["jwt.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nconst jwtSign = (string, secret, exp) => {\n  try {\n    // add an expiration option to the token\n    return jwt.sign(string, secret);\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst jwtVerify = (token, secret) => {\n  try {\n    return jwt.verify(token, secret);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport default { jwtSign, jwtVerify };\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,OAAO,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAEC,GAAG,KAAK;EACvC,IAAI;IACF;IACA,OAAOC,qBAAG,CAACC,IAAI,CAACJ,MAAM,EAAEC,MAAM,CAAC;EACjC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAMC,SAAS,GAAGA,CAACC,KAAK,EAAEN,MAAM,KAAK;EACnC,IAAI;IACF,OAAOE,qBAAG,CAACK,MAAM,CAACD,KAAK,EAAEN,MAAM,CAAC;EAClC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAAC,IAAAI,QAAA,GAEa;EAAEV,OAAO;EAAEO;AAAU,CAAC;AAAAI,OAAA,CAAAZ,OAAA,GAAAW,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf020de8c7f5b7fc674fb2309b9a902b2642b442","contentHash":"82fd0969aa2d020f6ad4cb542c24beefaf150b92c2a92a090d0345771696c15d"},"/Users/olivierhabi/Desktop/newprojects/movies/src/service/user.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/service/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":20},"end":{"line":7,"column":54}},"3":{"start":{"line":10,"column":4},"end":{"line":16,"column":5}},"4":{"start":{"line":11,"column":6},"end":{"line":13,"column":9}},"5":{"start":{"line":15,"column":6},"end":{"line":15,"column":18}},"6":{"start":{"line":19,"column":4},"end":{"line":27,"column":5}},"7":{"start":{"line":20,"column":6},"end":{"line":24,"column":9}},"8":{"start":{"line":26,"column":6},"end":{"line":26,"column":18}},"9":{"start":{"line":30,"column":15},"end":{"line":30,"column":19}},"10":{"start":{"line":31,"column":0},"end":{"line":31,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":2},"end":{"line":9,"column":3}},"loc":{"start":{"line":9,"column":32},"end":{"line":17,"column":3}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":2},"end":{"line":18,"column":3}},"loc":{"start":{"line":18,"column":37},"end":{"line":28,"column":3}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":3,"7":3,"8":0,"9":1,"10":1},"f":{"0":0,"1":3},"b":{},"inputSourceMap":{"version":3,"names":["_prismaClient","require","User","createUser","data","prisma","user","create","error","getUserByEmail","email","findUnique","where","_default","exports","default"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/service/","sources":["user.js"],"sourcesContent":["import { prisma } from \"../helpers/prismaClient\";\n\nclass User {\n  static async createUser(data) {\n    try {\n      return await prisma.user.create({\n        data: data,\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getUserByEmail(email) {\n    try {\n      return await prisma.user.findUnique({\n        where: {\n          email: email,\n        },\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport default User;\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AAEA,MAAMC,IAAI,CAAC;EACT,aAAaC,UAAUA,CAACC,IAAI,EAAE;IAC5B,IAAI;MACF,OAAO,MAAMC,oBAAM,CAACC,IAAI,CAACC,MAAM,CAAC;QAC9BH,IAAI,EAAEA;MACR,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;EACA,aAAaC,cAAcA,CAACC,KAAK,EAAE;IACjC,IAAI;MACF,OAAO,MAAML,oBAAM,CAACC,IAAI,CAACK,UAAU,CAAC;QAClCC,KAAK,EAAE;UACLF,KAAK,EAAEA;QACT;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;AACF;AAAC,IAAAK,QAAA,GAEcX,IAAI;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2eed471301f7d21b59f8e9fe983e6d84cace68a0","contentHash":"c93cb88e0b22e64303368442ffa63fee7e3b547599804fd4736cf3961e966553"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/movie.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/movie.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"2":{"start":{"line":7,"column":13},"end":{"line":7,"column":69}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":81}},"4":{"start":{"line":9,"column":17},"end":{"line":9,"column":75}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":63}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}},"9":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":69}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":14},"end":{"line":11,"column":15}},"loc":{"start":{"line":11,"column":34},"end":{"line":13,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":20},"end":{"line":15,"column":21}},"loc":{"start":{"line":15,"column":40},"end":{"line":17,"column":1}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1},"f":{"0":3,"1":0,"2":0},"b":{"0":[3,0],"1":[3,3]},"inputSourceMap":{"version":3,"names":["_movie","_interopRequireDefault","require","_updateMovie","_validator","obj","__esModule","default","movie","req","res","next","validator","MovieSchema","body","exports","updateMovie","UpdateMovieSchema"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/","sources":["movie.js"],"sourcesContent":["import MovieSchema from \"./schemas/movie/movie\";\nimport UpdateMovieSchema from \"./schemas/movie/updateMovie\";\nimport validator from \"../../helpers/validator\";\n\nexport const movie = (req, res, next) => {\n  validator(MovieSchema, req.body, res, next);\n};\nexport const updateMovie = (req, res, next) => {\n  validator(UpdateMovieSchema, req.body, res, next);\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgD,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzC,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACvC,IAAAC,kBAAS,EAACC,cAAW,EAAEJ,GAAG,CAACK,IAAI,EAAEJ,GAAG,EAAEC,IAAI,CAAC;AAC7C,CAAC;AAACI,OAAA,CAAAP,KAAA,GAAAA,KAAA;AACK,MAAMQ,WAAW,GAAGA,CAACP,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC7C,IAAAC,kBAAS,EAACK,oBAAiB,EAAER,GAAG,CAACK,IAAI,EAAEJ,GAAG,EAAEC,IAAI,CAAC;AACnD,CAAC;AAACI,OAAA,CAAAC,WAAA,GAAAA,WAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1568ded1e4b2ffb903290754511aa190fcecb24f","contentHash":"5e925478a1a1ed836583e5dbde466a2e75b06cb09bd1ee12589592806399edd1"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/movie.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/movie.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":49}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":15},"end":{"line":13,"column":2}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","_default","Joi","object","keys","movieId","number","required","options","allowUnknown","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/","sources":["movie.js"],"sourcesContent":["import Joi from \"joi\";\n\nexport default Joi.object()\n  .keys({\n    movieId: Joi.number().required(),\n  })\n  .options({ allowUnknown: false });\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEPC,YAAG,CAACC,MAAM,CAAC,CAAC,CACxBC,IAAI,CAAC;EACJC,OAAO,EAAEH,YAAG,CAACI,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC;AACjC,CAAC,CAAC,CACDC,OAAO,CAAC;EAAEC,YAAY,EAAE;AAAM,CAAC,CAAC;AAAAC,OAAA,CAAAV,OAAA,GAAAC,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0e2139ce66d3d0a7974d794aa6f769158f6f0167","contentHash":"d8a276e5d06190f8d6d6967e20e4d6da89fdd0dffd296d5f9970d9cbaff9452d"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/updateMovie.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/updateMovie.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":49}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":15},"end":{"line":14,"column":2}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","_default","Joi","object","keys","movieId","number","optional","rank","options","allowUnknown","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/movie/","sources":["updateMovie.js"],"sourcesContent":["import Joi from \"joi\";\n\nexport default Joi.object()\n  .keys({\n    movieId: Joi.number().optional(),\n    rank: Joi.number().optional(),\n  })\n  .options({ allowUnknown: false });\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEPC,YAAG,CAACC,MAAM,CAAC,CAAC,CACxBC,IAAI,CAAC;EACJC,OAAO,EAAEH,YAAG,CAACI,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAChCC,IAAI,EAAEN,YAAG,CAACI,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC;AAC9B,CAAC,CAAC,CACDE,OAAO,CAAC;EAAEC,YAAY,EAAE;AAAM,CAAC,CAAC;AAAAC,OAAA,CAAAX,OAAA,GAAAC,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f87092d200a0a25238f543d673dd4ba12044def","contentHash":"d212f76cce5edf23a9977183a6ecd5e7647fb3255165fa87969fd05e57874ce6"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/validator.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/validator.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":63}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":15}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":13},"end":{"line":10,"column":37}},"6":{"start":{"line":11,"column":15},"end":{"line":16,"column":1}},"7":{"start":{"line":14,"column":6},"end":{"line":14,"column":33}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":84}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":15},"end":{"line":11,"column":16}},"loc":{"start":{"line":11,"column":50},"end":{"line":16,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":15,"column":9},"end":{"line":15,"column":83}},"type":"cond-expr","locations":[{"start":{"line":15,"column":17},"end":{"line":15,"column":74}},{"start":{"line":15,"column":77},"end":{"line":15,"column":83}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"names":["_utilities","_interopRequireDefault","require","obj","__esModule","default","util","Util","_default","schema","toValidate","res","next","error","validate","setErrorResponse","details","message","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["validator.js"],"sourcesContent":["import Util from \"./utilities\";\nimport \"joi\";\n\nconst util = new Util();\nexport default (schema, toValidate, res, next) => {\n  const { error } = schema.validate(toValidate);\n  return error\n    ? util.setErrorResponse(res, error.details[0].message, 422)\n    : next();\n};\n"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACAA,OAAA;AAAa,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEb,MAAMG,IAAI,GAAG,IAAIC,kBAAI,CAAC,CAAC;AAAC,IAAAC,QAAA,GACTA,CAACC,MAAM,EAAEC,UAAU,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAChD,MAAM;IAAEC;EAAM,CAAC,GAAGJ,MAAM,CAACK,QAAQ,CAACJ,UAAU,CAAC;EAC7C,OAAOG,KAAK,GACRP,IAAI,CAACS,gBAAgB,CAACJ,GAAG,EAAEE,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,EAAE,GAAG,CAAC,GACzDL,IAAI,CAAC,CAAC;AACZ,CAAC;AAAAM,OAAA,CAAAb,OAAA,GAAAG,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d49f548e8e15b26db0219b54a207e0cc6b570d1","contentHash":"5f0cff79e56c05e2bc5111621baf2c81b202c658de6e3b749d128aaa852f6612"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/utilities.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/utilities.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":27}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":24}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":21}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":27}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":21}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":26}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":33}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":27}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"15":{"start":{"line":28,"column":4},"end":{"line":28,"column":33}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":24}},"18":{"start":{"line":33,"column":20},"end":{"line":33,"column":98}},"19":{"start":{"line":34,"column":4},"end":{"line":34,"column":19}},"20":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"21":{"start":{"line":38,"column":6},"end":{"line":38,"column":32}},"22":{"start":{"line":40,"column":19},"end":{"line":40,"column":72}},"23":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"24":{"start":{"line":42,"column":6},"end":{"line":42,"column":20}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":18}},"26":{"start":{"line":47,"column":19},"end":{"line":52,"column":5}},"27":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"28":{"start":{"line":54,"column":6},"end":{"line":54,"column":54}},"29":{"start":{"line":56,"column":4},"end":{"line":60,"column":7}},"30":{"start":{"line":63,"column":19},"end":{"line":67,"column":5}},"31":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"32":{"start":{"line":69,"column":6},"end":{"line":69,"column":54}},"33":{"start":{"line":71,"column":4},"end":{"line":75,"column":7}},"34":{"start":{"line":78,"column":4},"end":{"line":78,"column":47}},"35":{"start":{"line":79,"column":4},"end":{"line":79,"column":26}},"36":{"start":{"line":82,"column":4},"end":{"line":82,"column":39}},"37":{"start":{"line":83,"column":4},"end":{"line":83,"column":26}},"38":{"start":{"line":86,"column":19},"end":{"line":92,"column":41}},"39":{"start":{"line":86,"column":32},"end":{"line":86,"column":39}},"40":{"start":{"line":89,"column":26},"end":{"line":89,"column":53}},"41":{"start":{"line":92,"column":17},"end":{"line":92,"column":23}},"42":{"start":{"line":92,"column":34},"end":{"line":92,"column":40}},"43":{"start":{"line":93,"column":4},"end":{"line":93,"column":18}},"44":{"start":{"line":96,"column":0},"end":{"line":96,"column":23}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":2},"end":{"line":10,"column":3}},"loc":{"start":{"line":10,"column":16},"end":{"line":15,"column":3}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":2},"end":{"line":16,"column":3}},"loc":{"start":{"line":16,"column":40},"end":{"line":21,"column":3}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":2},"end":{"line":22,"column":3}},"loc":{"start":{"line":22,"column":38},"end":{"line":26,"column":3}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":2},"end":{"line":27,"column":3}},"loc":{"start":{"line":27,"column":32},"end":{"line":31,"column":3}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":32,"column":2},"end":{"line":32,"column":3}},"loc":{"start":{"line":32,"column":25},"end":{"line":35,"column":3}},"line":32},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":2},"end":{"line":36,"column":3}},"loc":{"start":{"line":36,"column":36},"end":{"line":45,"column":3}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":2},"end":{"line":46,"column":3}},"loc":{"start":{"line":46,"column":12},"end":{"line":61,"column":3}},"line":46},"8":{"name":"(anonymous_8)","decl":{"start":{"line":62,"column":2},"end":{"line":62,"column":3}},"loc":{"start":{"line":62,"column":16},"end":{"line":76,"column":3}},"line":62},"9":{"name":"(anonymous_9)","decl":{"start":{"line":77,"column":2},"end":{"line":77,"column":3}},"loc":{"start":{"line":77,"column":53},"end":{"line":80,"column":3}},"line":77},"10":{"name":"(anonymous_10)","decl":{"start":{"line":81,"column":2},"end":{"line":81,"column":3}},"loc":{"start":{"line":81,"column":45},"end":{"line":84,"column":3}},"line":81},"11":{"name":"(anonymous_11)","decl":{"start":{"line":85,"column":2},"end":{"line":85,"column":3}},"loc":{"start":{"line":85,"column":23},"end":{"line":94,"column":3}},"line":85},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":27},"end":{"line":86,"column":28}},"loc":{"start":{"line":86,"column":32},"end":{"line":86,"column":39}},"line":86},"13":{"name":"(anonymous_13)","decl":{"start":{"line":89,"column":9},"end":{"line":89,"column":10}},"loc":{"start":{"line":89,"column":26},"end":{"line":89,"column":53}},"line":89},"14":{"name":"(anonymous_14)","decl":{"start":{"line":92,"column":12},"end":{"line":92,"column":13}},"loc":{"start":{"line":92,"column":17},"end":{"line":92,"column":23}},"line":92},"15":{"name":"(anonymous_15)","decl":{"start":{"line":92,"column":29},"end":{"line":92,"column":30}},"loc":{"start":{"line":92,"column":34},"end":{"line":92,"column":40}},"line":92}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8},"2":{"loc":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},{"start":{"line":37,"column":4},"end":{"line":39,"column":5}}],"line":37},"3":{"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":106}},"type":"binary-expr","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":29}},{"start":{"line":37,"column":33},"end":{"line":37,"column":59}},{"start":{"line":37,"column":63},"end":{"line":37,"column":80}},{"start":{"line":37,"column":84},"end":{"line":37,"column":106}}],"line":37},"4":{"loc":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},{"start":{"line":41,"column":4},"end":{"line":43,"column":5}}],"line":41},"5":{"loc":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},{"start":{"line":53,"column":4},"end":{"line":55,"column":5}}],"line":53},"6":{"loc":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},{"start":{"line":68,"column":4},"end":{"line":70,"column":5}}],"line":68},"7":{"loc":{"start":{"line":89,"column":26},"end":{"line":89,"column":53}},"type":"binary-expr","locations":[{"start":{"line":89,"column":26},"end":{"line":89,"column":48}},{"start":{"line":89,"column":52},"end":{"line":89,"column":53}}],"line":89}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[0,1],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","obj","__esModule","default","Util","constructor","statusCode","type","message","data","setSuccess","setSuccessPost","setError","encrypt","plainPassword","newPass","bcrypt","hashSync","genSaltSync","compare","encrypted","undefined","status","compareSync","send","res","result","json","sendPost","setSuccessResponse","setErrorResponse","getUnique","arr","comp","unique","map","e","i","final","indexOf","filter","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["utilities.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\n\nexport default class Util {\n  constructor() {\n    this.statusCode = null;\n    this.type = null;\n    this.message = null;\n    this.data = null;\n  }\n\n  setSuccess(message, statusCode, data) {\n    this.statusCode = statusCode;\n    this.message = message;\n    this.data = data;\n    this.type = \"success\";\n  }\n\n  setSuccessPost(message, statusCode) {\n    this.statusCode = statusCode;\n    this.message = message;\n    this.type = \"success\";\n  }\n\n  setError(statusCode, message) {\n    this.statusCode = statusCode;\n    this.message = message;\n    this.type = \"Error\";\n  }\n\n  encrypt(plainPassword) {\n    const newPass = bcrypt.hashSync(\n      plainPassword,\n      bcrypt.genSaltSync(10),\n      null\n    );\n    return newPass;\n  }\n\n  compare(plainPassword, encrypted) {\n    if (\n      plainPassword == null ||\n      plainPassword == undefined ||\n      encrypted == null ||\n      encrypted == undefined\n    ) {\n      return \"password is null\";\n    }\n    const status = bcrypt.compareSync(plainPassword, encrypted);\n    if (status) {\n      return status;\n    }\n    return status;\n  }\n\n  send(res) {\n    const result = {\n      statusCode: this.statusCode,\n      status: this.type,\n      message: this.message,\n      data: this.data,\n    };\n    if (this.type === \"success\") {\n      return res.status(this.statusCode).json(result);\n    }\n    return res.status(this.statusCode).json({\n      statusCode: this.statusCode,\n      status: this.type,\n      message: this.message,\n    });\n  }\n\n  sendPost(res) {\n    const result = {\n      statusCode: this.statusCode,\n      status: this.type,\n      message: this.message,\n    };\n    if (this.type === \"success\") {\n      return res.status(this.statusCode).json(result);\n    }\n    return res.status(this.statusCode).json({\n      statusCode: this.statusCode,\n      status: this.type,\n      message: this.message,\n    });\n  }\n\n  setSuccessResponse(res, message, statusCode, data) {\n    this.setSuccess(message, statusCode, data);\n    return this.send(res);\n  }\n\n  setErrorResponse(res, message, statusCode) {\n    this.setError(statusCode, message);\n    return this.send(res);\n  }\n\n  getUnique(arr, comp) {\n    const unique = arr\n      .map((e) => e[comp])\n\n      // store the keys of the unique objects\n      .map((e, i, final) => final.indexOf(e) === i && i)\n\n      // eliminate the dead keys & store unique objects\n      .filter((e) => arr[e])\n      .map((e) => arr[e]);\n\n    return unique;\n  }\n}\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c4ff1d3d3b565beeb3738abb01d40cddbb037529","contentHash":"8b249926db6e952b39847d93a32be1608413ba095f2d0abf1c9aee601f1c73c9"},"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/authentication/index.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/authentication/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":33}},"3":{"start":{"line":8,"column":22},"end":{"line":8,"column":89}},"4":{"start":{"line":9,"column":17},"end":{"line":9,"column":88}},"5":{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},"6":{"start":{"line":10,"column":84},"end":{"line":10,"column":96}},"7":{"start":{"line":10,"column":121},"end":{"line":10,"column":134}},"8":{"start":{"line":10,"column":159},"end":{"line":10,"column":172}},"9":{"start":{"line":10,"column":174},"end":{"line":10,"column":309}},"10":{"start":{"line":10,"column":234},"end":{"line":10,"column":292}},"11":{"start":{"line":11,"column":53},"end":{"line":11,"column":111}},"12":{"start":{"line":11,"column":98},"end":{"line":11,"column":109}},"13":{"start":{"line":11,"column":112},"end":{"line":11,"column":214}},"14":{"start":{"line":11,"column":188},"end":{"line":11,"column":212}},"15":{"start":{"line":11,"column":227},"end":{"line":11,"column":264}},"16":{"start":{"line":11,"column":266},"end":{"line":11,"column":321}},"17":{"start":{"line":11,"column":297},"end":{"line":11,"column":319}},"18":{"start":{"line":11,"column":335},"end":{"line":11,"column":337}},"19":{"start":{"line":11,"column":367},"end":{"line":11,"column":423}},"20":{"start":{"line":11,"column":425},"end":{"line":11,"column":726}},"21":{"start":{"line":11,"column":448},"end":{"line":11,"column":724}},"22":{"start":{"line":11,"column":534},"end":{"line":11,"column":606}},"23":{"start":{"line":11,"column":608},"end":{"line":11,"column":722}},"24":{"start":{"line":11,"column":646},"end":{"line":11,"column":687}},"25":{"start":{"line":11,"column":697},"end":{"line":11,"column":720}},"26":{"start":{"line":11,"column":727},"end":{"line":11,"column":748}},"27":{"start":{"line":11,"column":749},"end":{"line":11,"column":787}},"28":{"start":{"line":11,"column":762},"end":{"line":11,"column":785}},"29":{"start":{"line":11,"column":788},"end":{"line":11,"column":802}},"30":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"31":{"start":{"line":13,"column":15},"end":{"line":13,"column":37}},"32":{"start":{"line":14,"column":0},"end":{"line":14,"column":81}},"33":{"start":{"line":15,"column":0},"end":{"line":15,"column":71}},"34":{"start":{"line":16,"column":15},"end":{"line":16,"column":21}},"35":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":33}},"loc":{"start":{"line":10,"column":47},"end":{"line":10,"column":311}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":209},"end":{"line":10,"column":210}},"loc":{"start":{"line":10,"column":232},"end":{"line":10,"column":294}},"line":10},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":32}},"loc":{"start":{"line":11,"column":51},"end":{"line":11,"column":804}},"line":11},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},"type":"if","locations":[{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},{"start":{"line":10,"column":49},"end":{"line":10,"column":96}}],"line":10},"1":{"loc":{"start":{"line":10,"column":241},"end":{"line":10,"column":291}},"type":"cond-expr","locations":[{"start":{"line":10,"column":255},"end":{"line":10,"column":271}},{"start":{"line":10,"column":274},"end":{"line":10,"column":291}}],"line":10},"2":{"loc":{"start":{"line":11,"column":53},"end":{"line":11,"column":111}},"type":"if","locations":[{"start":{"line":11,"column":53},"end":{"line":11,"column":111}},{"start":{"line":11,"column":53},"end":{"line":11,"column":111}}],"line":11},"3":{"loc":{"start":{"line":11,"column":57},"end":{"line":11,"column":94}},"type":"binary-expr","locations":[{"start":{"line":11,"column":57},"end":{"line":11,"column":69}},{"start":{"line":11,"column":73},"end":{"line":11,"column":76}},{"start":{"line":11,"column":80},"end":{"line":11,"column":94}}],"line":11},"4":{"loc":{"start":{"line":11,"column":112},"end":{"line":11,"column":214}},"type":"if","locations":[{"start":{"line":11,"column":112},"end":{"line":11,"column":214}},{"start":{"line":11,"column":112},"end":{"line":11,"column":214}}],"line":11},"5":{"loc":{"start":{"line":11,"column":116},"end":{"line":11,"column":184}},"type":"binary-expr","locations":[{"start":{"line":11,"column":116},"end":{"line":11,"column":128}},{"start":{"line":11,"column":132},"end":{"line":11,"column":155}},{"start":{"line":11,"column":159},"end":{"line":11,"column":184}}],"line":11},"6":{"loc":{"start":{"line":11,"column":266},"end":{"line":11,"column":321}},"type":"if","locations":[{"start":{"line":11,"column":266},"end":{"line":11,"column":321}},{"start":{"line":11,"column":266},"end":{"line":11,"column":321}}],"line":11},"7":{"loc":{"start":{"line":11,"column":270},"end":{"line":11,"column":293}},"type":"binary-expr","locations":[{"start":{"line":11,"column":270},"end":{"line":11,"column":275}},{"start":{"line":11,"column":279},"end":{"line":11,"column":293}}],"line":11},"8":{"loc":{"start":{"line":11,"column":367},"end":{"line":11,"column":423}},"type":"binary-expr","locations":[{"start":{"line":11,"column":367},"end":{"line":11,"column":388}},{"start":{"line":11,"column":392},"end":{"line":11,"column":423}}],"line":11},"9":{"loc":{"start":{"line":11,"column":448},"end":{"line":11,"column":724}},"type":"if","locations":[{"start":{"line":11,"column":448},"end":{"line":11,"column":724}},{"start":{"line":11,"column":448},"end":{"line":11,"column":724}}],"line":11},"10":{"loc":{"start":{"line":11,"column":452},"end":{"line":11,"column":519}},"type":"binary-expr","locations":[{"start":{"line":11,"column":452},"end":{"line":11,"column":469}},{"start":{"line":11,"column":473},"end":{"line":11,"column":519}}],"line":11},"11":{"loc":{"start":{"line":11,"column":534},"end":{"line":11,"column":606}},"type":"cond-expr","locations":[{"start":{"line":11,"column":558},"end":{"line":11,"column":599}},{"start":{"line":11,"column":602},"end":{"line":11,"column":606}}],"line":11},"12":{"loc":{"start":{"line":11,"column":608},"end":{"line":11,"column":722}},"type":"if","locations":[{"start":{"line":11,"column":608},"end":{"line":11,"column":722}},{"start":{"line":11,"column":608},"end":{"line":11,"column":722}}],"line":11},"13":{"loc":{"start":{"line":11,"column":612},"end":{"line":11,"column":642}},"type":"binary-expr","locations":[{"start":{"line":11,"column":612},"end":{"line":11,"column":616}},{"start":{"line":11,"column":621},"end":{"line":11,"column":629}},{"start":{"line":11,"column":633},"end":{"line":11,"column":641}}],"line":11},"14":{"loc":{"start":{"line":11,"column":749},"end":{"line":11,"column":787}},"type":"if","locations":[{"start":{"line":11,"column":749},"end":{"line":11,"column":787}},{"start":{"line":11,"column":749},"end":{"line":11,"column":787}}],"line":11},"15":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"16":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1},"f":{"0":0,"1":0,"2":1,"3":1},"b":{"0":[0,0],"1":[0,0],"2":[1,0],"3":[1,1,1],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"names":["_express","require","_authentication","_interopRequireDefault","validation","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","router","Router","post","signup","Authentication","createAccount","login","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/routes/authentication/","sources":["index.js"],"sourcesContent":["import { Router } from \"express\";\nimport Authentication from \"../../controllers/authentication\";\nimport * as validation from \"../../middlewares/validations/users\";\n\nconst router = Router();\n\nrouter.post(\"/signup\", validation.signup, Authentication.createAccount);\nrouter.post(\"/login\", validation.login, Authentication.login);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,UAAA,GAAAC,uBAAA,CAAAJ,OAAA;AAAkE,SAAAK,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAF,wBAAAM,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAd,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElE,MAAMiB,MAAM,GAAG,IAAAC,eAAM,EAAC,CAAC;AAEvBD,MAAM,CAACE,IAAI,CAAC,SAAS,EAAE1B,UAAU,CAAC2B,MAAM,EAAEC,uBAAc,CAACC,aAAa,CAAC;AACvEL,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAE1B,UAAU,CAAC8B,KAAK,EAAEF,uBAAc,CAACE,KAAK,CAAC;AAAC,IAAAC,QAAA,GAE/CP,MAAM;AAAAQ,OAAA,CAAAvB,OAAA,GAAAsB,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f3204a0b853b6926029cb05e3aab9bb6ed472973","contentHash":"f167f1c0381f19c9afcdab617886e098ca291a8faedccccc360b2408086f6c38"},"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/authentication.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/authentication.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":62}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":66}},"4":{"start":{"line":9,"column":11},"end":{"line":9,"column":60}},"5":{"start":{"line":10,"column":11},"end":{"line":10,"column":60}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"7":{"start":{"line":14,"column":20},"end":{"line":14,"column":28}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":65}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":19}},"10":{"start":{"line":19,"column":4},"end":{"line":39,"column":5}},"11":{"start":{"line":20,"column":22},"end":{"line":20,"column":65}},"12":{"start":{"line":21,"column":27},"end":{"line":21,"column":76}},"13":{"start":{"line":22,"column":6},"end":{"line":27,"column":7}},"14":{"start":{"line":23,"column":8},"end":{"line":26,"column":11}},"15":{"start":{"line":28,"column":25},"end":{"line":28,"column":64}},"16":{"start":{"line":29,"column":6},"end":{"line":33,"column":9}},"17":{"start":{"line":35,"column":6},"end":{"line":38,"column":9}},"18":{"start":{"line":42,"column":4},"end":{"line":45,"column":27}},"19":{"start":{"line":48,"column":4},"end":{"line":81,"column":5}},"20":{"start":{"line":52,"column":10},"end":{"line":52,"column":18}},"21":{"start":{"line":53,"column":19},"end":{"line":53,"column":62}},"22":{"start":{"line":54,"column":23},"end":{"line":54,"column":69}},"23":{"start":{"line":55,"column":6},"end":{"line":60,"column":7}},"24":{"start":{"line":56,"column":8},"end":{"line":59,"column":11}},"25":{"start":{"line":61,"column":21},"end":{"line":61,"column":73}},"26":{"start":{"line":62,"column":6},"end":{"line":65,"column":9}},"27":{"start":{"line":62,"column":19},"end":{"line":65,"column":9}},"28":{"start":{"line":66,"column":20},"end":{"line":69,"column":34}},"29":{"start":{"line":70,"column":6},"end":{"line":74,"column":9}},"30":{"start":{"line":76,"column":6},"end":{"line":76,"column":25}},"31":{"start":{"line":77,"column":6},"end":{"line":80,"column":9}},"32":{"start":{"line":84,"column":15},"end":{"line":84,"column":29}},"33":{"start":{"line":85,"column":0},"end":{"line":85,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":2},"end":{"line":13,"column":3}},"loc":{"start":{"line":13,"column":38},"end":{"line":17,"column":3}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":2},"end":{"line":18,"column":3}},"loc":{"start":{"line":18,"column":39},"end":{"line":40,"column":3}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":2},"end":{"line":41,"column":3}},"loc":{"start":{"line":41,"column":35},"end":{"line":46,"column":3}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":2},"end":{"line":47,"column":3}},"loc":{"start":{"line":47,"column":31},"end":{"line":82,"column":3}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11},"2":{"loc":{"start":{"line":22,"column":6},"end":{"line":27,"column":7}},"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":27,"column":7}},{"start":{"line":22,"column":6},"end":{"line":27,"column":7}}],"line":22},"3":{"loc":{"start":{"line":55,"column":6},"end":{"line":60,"column":7}},"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":60,"column":7}},{"start":{"line":55,"column":6},"end":{"line":60,"column":7}}],"line":55},"4":{"loc":{"start":{"line":62,"column":6},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":65,"column":9}},{"start":{"line":62,"column":6},"end":{"line":65,"column":9}}],"line":62}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1},"f":{"0":4,"1":0,"2":0,"3":0,"4":0},"b":{"0":[4,0],"1":[4,4],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"names":["_user","_interopRequireDefault","require","_bcrypt","_jwt","_cry","obj","__esModule","default","Authentication","initializeVarsForSignup","req","newUser","body","password","bcrypt","encrypt","createAccount","res","existingUser","UserService","getUserByEmail","email","status","json","message","createUser","data","error","signToken","part1","jwt","jwtSign","key","process","env","SECRET","login","user","findUser","compare","token","cry","crypto","console","log","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/controllers/","sources":["authentication.js"],"sourcesContent":["import UserService from \"../service/user\";\nimport bcrypt from \"../helpers/bcrypt\";\nimport jwt from \"../helpers/jwt\";\nimport cry from \"../helpers/cry\";\n\nclass Authentication {\n  static initializeVarsForSignup(req) {\n    const newUser = req.body;\n    newUser.password = bcrypt.encrypt(newUser.password);\n    return newUser;\n  }\n  static async createAccount(req, res) {\n    try {\n      const newUser = Authentication.initializeVarsForSignup(req);\n      const existingUser = await UserService.getUserByEmail(newUser.email);\n\n      if (existingUser) {\n        return res.status(400).json({\n          status: 400,\n          message: \"user with that email already exists\",\n        });\n      }\n      const createUser = await UserService.createUser(newUser);\n\n      return res.status(200).json({\n        status: 200,\n        message: \"Signed up successfully\",\n        data: createUser,\n      });\n    } catch (error) {\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n\n  static signToken(part1, newUser) {\n    return jwt.jwtSign(\n      {\n        key: part1,\n        email: newUser.email,\n      },\n      process.env.SECRET\n    );\n  }\n\n  static async login(req, res) {\n    try {\n      const { password, email } = req.body;\n      const user = Authentication.initializeVarsForSignup(req);\n      const findUser = await UserService.getUserByEmail(user.email);\n\n      if (!findUser) {\n        return res.status(403).json({\n          status: 403,\n          message: \"Invalid email or password!\",\n        });\n      }\n\n      const status = bcrypt.compare(password, findUser.password);\n\n      if (!status)\n        return res.status(403).json({\n          status: 403,\n          message: \"Invalid email or password!\",\n        });\n\n      const token = jwt.jwtSign(\n        { key: cry.crypto(), email: user?.email },\n        process.env.SECRET,\n        \"1d\"\n      );\n      return res.status(200).json({\n        status: 200,\n        message: \"Logged in successfully!\",\n        token,\n      });\n    } catch (error) {\n      console.log(error);\n      return res.status(500).json({ status: 500, message: error });\n    }\n  }\n}\n\nexport default Authentication;\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e2d31a0ed0411fb8a0865aaeedd683a87c8e5d5","contentHash":"762482953c7f78d922f8f950f6ee3d88c7fbcc5198aaf9f04748fb548309b34a"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/bcrypt.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/bcrypt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":16},"end":{"line":15,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":14,"column":3}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":90}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":16}},"8":{"start":{"line":16,"column":16},"end":{"line":22,"column":1}},"9":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":65}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":16}},"12":{"start":{"line":23,"column":15},"end":{"line":26,"column":1}},"13":{"start":{"line":27,"column":0},"end":{"line":27,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":33},"end":{"line":15,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},"loc":{"start":{"line":16,"column":46},"end":{"line":22,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","obj","__esModule","default","encrypt","plainPassword","bcrypt","hashSync","genSaltSync","error","compare","encrypted","compareSync","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["bcrypt.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\n\nconst encrypt = (plainPassword) => {\n  try {\n    return bcrypt.hashSync(plainPassword, bcrypt.genSaltSync(10), null);\n  } catch (error) {\n    throw error;\n  }\n};\nconst compare = (plainPassword, encrypted) => {\n  try {\n    return bcrypt.compareSync(plainPassword, encrypted);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport default { encrypt, compare };\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5B,MAAMG,OAAO,GAAIC,aAAa,IAAK;EACjC,IAAI;IACF,OAAOC,eAAM,CAACC,QAAQ,CAACF,aAAa,EAAEC,eAAM,CAACE,WAAW,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;EACrE,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AACD,MAAMC,OAAO,GAAGA,CAACL,aAAa,EAAEM,SAAS,KAAK;EAC5C,IAAI;IACF,OAAOL,eAAM,CAACM,WAAW,CAACP,aAAa,EAAEM,SAAS,CAAC;EACrD,CAAC,CAAC,OAAOF,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAAC,IAAAI,QAAA,GAEa;EAAET,OAAO;EAAEM;AAAQ,CAAC;AAAAI,OAAA,CAAAX,OAAA,GAAAU,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0e1eb49400d1756d6bcc60056cbc1ce9b0a5bd95","contentHash":"9e214068073bf537d661bebf26a19ca98ddece6ba43ae8ea693f8d2e26b499ae"},"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/cry.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/cry.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":15},"end":{"line":19,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":18,"column":3}},"6":{"start":{"line":11,"column":18},"end":{"line":11,"column":20}},"7":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":39}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":19}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":16}},"11":{"start":{"line":20,"column":15},"end":{"line":22,"column":1}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":15},"end":{"line":9,"column":16}},"loc":{"start":{"line":9,"column":21},"end":{"line":19,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":36},"end":{"line":12,"column":37}},"loc":{"start":{"line":12,"column":53},"end":{"line":14,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_crypto","_interopRequireDefault","require","obj","__esModule","default","crypto","payload","crypt","randomBytes","err","buffer","toString","error","_default","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/helpers/","sources":["cry.js"],"sourcesContent":["import crypt from \"crypto\";\n\nconst crypto = () => {\n  try {\n    let payload = \"\";\n    crypt.randomBytes(20, (err, buffer) => {\n      payload = buffer.toString(\"hex\");\n    });\n    return payload;\n  } catch (error) {\n    throw error;\n  }\n};\nexport default { crypto };\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3B,MAAMG,MAAM,GAAGA,CAAA,KAAM;EACnB,IAAI;IACF,IAAIC,OAAO,GAAG,EAAE;IAChBC,eAAK,CAACC,WAAW,CAAC,EAAE,EAAE,CAACC,GAAG,EAAEC,MAAM,KAAK;MACrCJ,OAAO,GAAGI,MAAM,CAACC,QAAQ,CAAC,KAAK,CAAC;IAClC,CAAC,CAAC;IACF,OAAOL,OAAO;EAChB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AAAC,IAAAC,QAAA,GACa;EAAER;AAAO,CAAC;AAAAS,OAAA,CAAAV,OAAA,GAAAS,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1c9bb3f8b4e49983437cb767e1995900d1bcd499","contentHash":"f9cb5489f3ed90f8e3929647d15675a8f782411017e580866a37fe84324b543d"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/users.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/users.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":70}},"3":{"start":{"line":8,"column":13},"end":{"line":8,"column":68}},"4":{"start":{"line":9,"column":17},"end":{"line":9,"column":75}},"5":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"6":{"start":{"line":11,"column":15},"end":{"line":13,"column":1}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":64}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":24}},"9":{"start":{"line":15,"column":14},"end":{"line":17,"column":1}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":64}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":22}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":15},"end":{"line":11,"column":16}},"loc":{"start":{"line":11,"column":35},"end":{"line":13,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":14},"end":{"line":15,"column":15}},"loc":{"start":{"line":15,"column":34},"end":{"line":17,"column":1}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1},"f":{"0":3,"1":0,"2":0},"b":{"0":[3,0],"1":[3,3]},"inputSourceMap":{"version":3,"names":["_signup","_interopRequireDefault","require","_login","_validator","obj","__esModule","default","signup","req","res","next","validator","SignupSchema","body","exports","login"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/","sources":["users.js"],"sourcesContent":["import SignupSchema from \"./schemas/user/signup\";\nimport LoginSchema from \"./schemas/user/login\";\nimport validator from \"../../helpers/validator\";\n\nexport const signup = (req, res, next) => {\n  validator(SignupSchema, req.body, res, next);\n};\nexport const login = (req, res, next) => {\n  validator(SignupSchema, req.body, res, next);\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgD,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzC,MAAMG,MAAM,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACxC,IAAAC,kBAAS,EAACC,eAAY,EAAEJ,GAAG,CAACK,IAAI,EAAEJ,GAAG,EAAEC,IAAI,CAAC;AAC9C,CAAC;AAACI,OAAA,CAAAP,MAAA,GAAAA,MAAA;AACK,MAAMQ,KAAK,GAAGA,CAACP,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACvC,IAAAC,kBAAS,EAACC,eAAY,EAAEJ,GAAG,CAACK,IAAI,EAAEJ,GAAG,EAAEC,IAAI,CAAC;AAC9C,CAAC;AAACI,OAAA,CAAAC,KAAA,GAAAA,KAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1280a892996b86fc963334f77b4a291f30572a84","contentHash":"572f043d5f5352ad1644291ab7a29a06e0b5134b5b571eda6c9f11c77d3de502"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/signup.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/signup.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":49}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":15},"end":{"line":14,"column":2}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","_default","Joi","object","keys","email","string","required","password","min","max","options","allowUnknown","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/","sources":["signup.js"],"sourcesContent":["import Joi from \"joi\";\n\nexport default Joi.object()\n  .keys({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).max(50).required(),\n  })\n  .options({ allowUnknown: false });\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEPC,YAAG,CAACC,MAAM,CAAC,CAAC,CACxBC,IAAI,CAAC;EACJC,KAAK,EAAEH,YAAG,CAACI,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC;EACtCC,QAAQ,EAAEN,YAAG,CAACI,MAAM,CAAC,CAAC,CAACG,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CAACH,QAAQ,CAAC;AACjD,CAAC,CAAC,CACDI,OAAO,CAAC;EAAEC,YAAY,EAAE;AAAM,CAAC,CAAC;AAAAC,OAAA,CAAAb,OAAA,GAAAC,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f5bdf31708a0b7ab76706a01e372fa39922b96a5","contentHash":"de7e982d681781e4736fd71fc55bb06337ad2407780e086260a26c842723eeb1"},"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/login.js":{"path":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/login.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":11},"end":{"line":7,"column":49}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":15},"end":{"line":14,"column":2}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","_default","Joi","object","keys","email","string","required","password","min","max","options","allowUnknown","exports"],"sourceRoot":"/Users/olivierhabi/Desktop/newprojects/movies/src/middlewares/validations/schemas/user/","sources":["login.js"],"sourcesContent":["import Joi from \"joi\";\n\nexport default Joi.object()\n  .keys({\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).max(50).required(),\n  })\n  .options({ allowUnknown: false });\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAEPC,YAAG,CAACC,MAAM,CAAC,CAAC,CACxBC,IAAI,CAAC;EACJC,KAAK,EAAEH,YAAG,CAACI,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC;EACtCC,QAAQ,EAAEN,YAAG,CAACI,MAAM,CAAC,CAAC,CAACG,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CAACH,QAAQ,CAAC;AACjD,CAAC,CAAC,CACDI,OAAO,CAAC;EAAEC,YAAY,EAAE;AAAM,CAAC,CAAC;AAAAC,OAAA,CAAAb,OAAA,GAAAC,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"079f1caeb11dd0966a2112ab3f81af66b042b207","contentHash":"f163c751ac88f930021d613c84e1f63d9566efbedd3bdd4263ebd320f3b1fed0"}}